<div class="container-fluid">
    <ul class="nav nav-tabs justify-content-end nav-content">
        <li class="nav-item">
            <button class="nav-link btn btn-link custom-nav-tab-btn" [class.active]="activeTab === 1"
                (click)="setActiveTab(1)">Best Match</button>
        </li>
        <li class="nav-item">
            <button class="nav-link btn btn-link custom-nav-tab-btn" [class.active]="activeTab === 2"
                (click)="setActiveTab(2)">Best Rank</button>
        </li>
        <li class="nav-item">
            <button class="nav-link btn btn-link custom-nav-tab-btn" [class.active]="activeTab === 3"
                (click)="setActiveTab(3)">
                <div class="d-flex justify-content-between align-items-center">
                    <div>Acceptance Rate</div>
                </div>
            </button>
        </li>
        <li class="nav-item">
            <button class="nav-link btn btn-link custom-nav-tab-btn" [class.active]="activeTab === 4"
                (click)="setActiveTab(4)">
                <span>Tuition Fee</span>
            </button>
        </li>
    </ul>
    <mat-card class="mt-3 custom-card">
        <mat-card-content class="card-style">
            <div class="row">
                <div class="col-lg-4">
                    <div>
                        <div class="d-flex justify-content-between ">
                            <h4>
                                Country List
                            </h4>
                            <mat-icon class="expand-icon"
                                [ngClass]="{'down-icon': showContent, 'right-icon': !showContent}"
                                (click)="toggleContent()">expand_more</mat-icon>
                        </div>
                        <div class="country-list" style="overflow-y: auto; max-height: 200px;" *ngIf="showContent">
                            <div class="form-check" *ngFor="let country of countries">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <input class="form-check-input" type="checkbox" id="country{{country.id}}">
                                        <label class="form-check-label country-sty" for="country{{country.id}}">
                                            {{country.name}}
                                        </label>
                                    </div>
                                    <div>
                                        <mat-icon class="expand-icon" (click)="toggleSearchBox($event, country.id)">{{
                                            expandedCountry === country.id ? 'expand_less' : 'expand_more' }}</mat-icon>
                                    </div>
                                </div>
                                <div *ngIf="expandedCountry === country.id">
                                    <input class="search-box" type="text" placeholder="Search...">
                                </div>
                            </div>
                        </div>
                        <div style="border-bottom:1px solid #c9c9c9;margin-top:1rem;margin-bottom:1rem;">
                        </div>
                    </div>
                    <div>
                        <div class="d-flex justify-content-between ">
                            <h4>
                                Disciplines
                            </h4>
                            <mat-icon class="expand-icon" [ngClass]="{'down-icon': show, 'right-icon': !show}"
                                (click)="toggleDisciplines()">expand_more</mat-icon>

                        </div>
                        <div class="descipline-list" style="overflow-y: auto; max-height: 200px;" *ngIf="show">
                            <div class="form-check" *ngFor="let descipline of desciplines">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <input class="form-check-input" type="checkbox" id="country{{descipline.id}}">
                                        <label class="form-check-label country-sty" for="country{{descipline.id}}">
                                            {{descipline.name}}
                                        </label>
                                    </div>
                                    <div>
                                        <mat-icon class="expand-icon"
                                            (click)="toggleSearchBox($event, descipline.id)">{{ expandedCountry ===
                                            descipline.id ? 'expand_less' : 'expand_more' }}</mat-icon>
                                    </div>
                                </div>
                                <div *ngIf="expandedCountry === descipline.id">
                                    <input class="search-box" type="text" placeholder="Search...">
                                </div>
                            </div>
                        </div>
                        <div style="border-bottom:1px solid #c9c9c9;margin-top:1rem;">
                        </div>
                    </div>
                </div>
                <div class="col-lg-8">
                    <mat-card *ngFor="let card of dataArray,let i as index" class="mt-3">
                        <mat-card-content>
                            <div class="row">
                                <div class="col-lg-2">
                                    <img [src]="card.logo" width="100" height="100">
                                </div>
                                <div class="col-lg-10">
                                    <h1>{{card.name}}</h1>
                                    <div class="d-flex">
                                        <mat-icon class="location-icon">location_on</mat-icon>
                                        <span>{{card.address.city}}, {{card.address.state}}</span>
                                        <mat-icon class="list-icon">fiber_manual_record</mat-icon>
                                        <span>{{card.address.country}}</span>
                                    </div>
                                    <div class="d-flex">
                                        <div class="d-flex">
                                            <mat-icon class="grade-icon">grade</mat-icon>
                                            <div>
                                                <p>{{ card.rank.isc_global.max}}</p>
                                                <p class="font-sty">ISC Rank</p>
                                            </div>
                                        </div>
                                        <div class="d-flex verified">
                                            <mat-icon class="verified-icon">verified_user</mat-icon>
                                            <div>
                                                <p>{{card.stats.acceptance_rate}}%</p>
                                                <p class="font-sty">Acceptance Rate:</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <mat-card>
                                            <mat-card-content>
                                                <h3 class="card-heading">{{card.courses[0].name}}</h3>
                                                <div class="d-flex justify-content-between" style="flex-wrap: wrap;">
                                                    <div>
                                                        <div class="d-flex justify-content-between">
                                                            <div class="d-flex">
                                                                <mat-icon
                                                                    class="account-icon">account_balance</mat-icon>
                                                                <a href=""
                                                                    class="link-sty">{{card.courses[0].school_name}}</a>
                                                            </div>
                                                        </div>
                                                        <div class="d-flex">
                                                            <div class="d-flex">
                                                                <mat-icon class="account-icon">school</mat-icon>
                                                                <span>{{card.courses[0].degree[0]}}</span>
                                                            </div>
                                                            <div class="d-flex">
                                                                <mat-icon class="Psychology-icon">paid</mat-icon>
                                                                <span> {{card.courses[0].tuition.value}}
                                                                    {{card.courses[0].tuition.currency}} </span>
                                                            </div>
                                                            <div class="d-flex">
                                                                <mat-icon class="Psychology-icon">date_range</mat-icon>
                                                                <span> 4 years </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <button class="btn btn-light btn-sty">
                                                            <div class="d-flex" style="gap:0.3rem">
                                                                <mat-icon>favorite_border</mat-icon>
                                                                Add to Favorites
                                                            </div>
                                                        </button>
                                                        <button class="btn btn-primary">Apply</button>
                                                    </div>
                                                </div>
                                            </mat-card-content>
                                        </mat-card>
                                        <mat-card class="mt-3">
                                            <mat-card-content>
                                                <h3 class="card-heading">{{card.courses[1].name}}</h3>
                                                <div class="d-flex justify-content-between" style="flex-wrap: wrap;">
                                                    <div>
                                                        <div class="d-flex justify-content-between">
                                                            <div class="d-flex">
                                                                <mat-icon
                                                                    class="account-icon">account_balance</mat-icon>
                                                                <a href=""
                                                                    class="link-sty">{{card.courses[1].school_name}}</a>
                                                            </div>
                                                        </div>
                                                        <div class="d-flex">
                                                            <div class="d-flex">
                                                                <mat-icon class="account-icon">school</mat-icon>
                                                                <span>{{card.courses[0].degree[0]}}</span>
                                                            </div>
                                                            <div class="d-flex">
                                                                <mat-icon class="Psychology-icon">paid</mat-icon>
                                                                <span> {{card.courses[1].tuition.value}}
                                                                    {{card.courses[1].tuition.currency}} </span>
                                                            </div>
                                                            <div class="d-flex">
                                                                <mat-icon class="Psychology-icon">date_range</mat-icon>
                                                                <span> 4 years </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <button class="btn btn-light btn-sty">
                                                            <div class="d-flex" style="gap:0.3rem">
                                                                <mat-icon>favorite_border</mat-icon>
                                                                Add to Favorites
                                                            </div>
                                                        </button>
                                                        <button class="btn btn-primary">Apply</button>
                                                    </div>
                                                </div>
                                            </mat-card-content>
                                        </mat-card>
                                    </div>
                                </div>
                            </div>
                        </mat-card-content>
                    </mat-card>
                    <div class="d-flex justify-content-between mt-3">
                        <span>Showing
                            <b>{{currentPage}} - 10</b> of <b>{{totalcourse}}</b>institutes</span>
                        <mat-card-footer class="paginator">
                            <nav aria-label="Pagination" class="pagination justify-content-end">
                                <ul class="pagination">
                                    <li class="page-item">
                                        <a class="page-link" (click)="goToPage(currentPage - 1)" aria-label="Previous">
                                            <span aria-hidden="true">&laquo;</span>
                                        </a>
                                    </li>
                                    <li class="page-item" *ngFor="let page of getPageNumbers()"
                                        [class.active]="currentPage === page">
                                        <a class="page-link" (click)="goToPage(page)" href="#">{{ page }}</a>
                                    </li>
                                    <li class="page-item">
                                        <a class="page-link" (click)="goToPage(currentPage + 1)" aria-label="Next">
                                            <span aria-hidden="true">&raquo;</span>
                                        </a>
                                    </li>
                                </ul>
                            </nav>
                        </mat-card-footer>
                    </div>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
</div>